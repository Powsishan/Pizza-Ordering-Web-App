{"ast":null,"code":"import React,{createContext,useContext,useReducer}from'react';import{getPizzas}from'../services/pizzaService';import{jsx as _jsx}from\"react/jsx-runtime\";const PizzaContext=/*#__PURE__*/createContext();const initialState={pizzas:[],loading:false,error:null};const pizzaReducer=(state,action)=>{switch(action.type){case'FETCH_PIZZAS_REQUEST':return{...state,loading:true};case'FETCH_PIZZAS_SUCCESS':return{...state,loading:false,pizzas:action.payload};case'FETCH_PIZZAS_FAILURE':return{...state,loading:false,error:action.payload};default:return state;}};const PizzaProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(pizzaReducer,initialState);const fetchPizzas=async()=>{dispatch({type:'FETCH_PIZZAS_REQUEST'});try{const pizzas=await getPizzas();dispatch({type:'FETCH_PIZZAS_SUCCESS',payload:pizzas});}catch(error){dispatch({type:'FETCH_PIZZAS_FAILURE',payload:error.message});}};return/*#__PURE__*/_jsx(PizzaContext.Provider,{value:{state,fetchPizzas},children:children});};const usePizza=()=>{return useContext(PizzaContext);};export{PizzaProvider,usePizza};","map":{"version":3,"names":["React","createContext","useContext","useReducer","getPizzas","jsx","_jsx","PizzaContext","initialState","pizzas","loading","error","pizzaReducer","state","action","type","payload","PizzaProvider","_ref","children","dispatch","fetchPizzas","message","Provider","value","usePizza"],"sources":["D:/Learn/pizza/frontend/src/context/PizzaContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\nimport { getPizzas } from '../services/pizzaService'; \r\n\r\nconst PizzaContext = createContext();\r\n\r\nconst initialState = {\r\n  pizzas: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nconst pizzaReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_PIZZAS_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_PIZZAS_SUCCESS':\r\n      return { ...state, loading: false, pizzas: action.payload };\r\n    case 'FETCH_PIZZAS_FAILURE':\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst PizzaProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(pizzaReducer, initialState);\r\n\r\n  const fetchPizzas = async () => {\r\n    dispatch({ type: 'FETCH_PIZZAS_REQUEST' });\r\n    try {\r\n      const pizzas = await getPizzas(); \r\n      dispatch({ type: 'FETCH_PIZZAS_SUCCESS', payload: pizzas });\r\n    } catch (error) {\r\n      dispatch({ type: 'FETCH_PIZZAS_FAILURE', payload: error.message });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PizzaContext.Provider value={{ state, fetchPizzas }}>\r\n      {children}\r\n    </PizzaContext.Provider>\r\n  );\r\n};\r\n\r\nconst usePizza = () => {\r\n  return useContext(PizzaContext);\r\n};\r\n\r\nexport { PizzaProvider, usePizza };\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,CACpE,OAASC,SAAS,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,YAAY,cAAGN,aAAa,CAAC,CAAC,CAEpC,KAAM,CAAAO,YAAY,CAAG,CACnBC,MAAM,CAAE,EAAE,CACVC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACtC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,sBAAsB,CACzB,MAAO,CAAE,GAAGF,KAAK,CAAEH,OAAO,CAAE,IAAK,CAAC,CACpC,IAAK,sBAAsB,CACzB,MAAO,CAAE,GAAGG,KAAK,CAAEH,OAAO,CAAE,KAAK,CAAED,MAAM,CAAEK,MAAM,CAACE,OAAQ,CAAC,CAC7D,IAAK,sBAAsB,CACzB,MAAO,CAAE,GAAGH,KAAK,CAAEH,OAAO,CAAE,KAAK,CAAEC,KAAK,CAAEG,MAAM,CAACE,OAAQ,CAAC,CAC5D,QACE,MAAO,CAAAH,KAAK,CAChB,CACF,CAAC,CAED,KAAM,CAAAI,aAAa,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACjC,KAAM,CAACL,KAAK,CAAEO,QAAQ,CAAC,CAAGjB,UAAU,CAACS,YAAY,CAAEJ,YAAY,CAAC,CAEhE,KAAM,CAAAa,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9BD,QAAQ,CAAC,CAAEL,IAAI,CAAE,sBAAuB,CAAC,CAAC,CAC1C,GAAI,CACF,KAAM,CAAAN,MAAM,CAAG,KAAM,CAAAL,SAAS,CAAC,CAAC,CAChCgB,QAAQ,CAAC,CAAEL,IAAI,CAAE,sBAAsB,CAAEC,OAAO,CAAEP,MAAO,CAAC,CAAC,CAC7D,CAAE,MAAOE,KAAK,CAAE,CACdS,QAAQ,CAAC,CAAEL,IAAI,CAAE,sBAAsB,CAAEC,OAAO,CAAEL,KAAK,CAACW,OAAQ,CAAC,CAAC,CACpE,CACF,CAAC,CAED,mBACEhB,IAAA,CAACC,YAAY,CAACgB,QAAQ,EAACC,KAAK,CAAE,CAAEX,KAAK,CAAEQ,WAAY,CAAE,CAAAF,QAAA,CAClDA,QAAQ,CACY,CAAC,CAE5B,CAAC,CAED,KAAM,CAAAM,QAAQ,CAAGA,CAAA,GAAM,CACrB,MAAO,CAAAvB,UAAU,CAACK,YAAY,CAAC,CACjC,CAAC,CAED,OAASU,aAAa,CAAEQ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}